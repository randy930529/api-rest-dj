extends ../generic/tableBase

mixin setDataToSectionA(data=[])
    each val, index in data
        tr(height=46 style={height:'34.9pt'})
            td.xl-65(width=397 style="border-right: .5pt solid black;width:296pt;vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= val.activity
            td.xl-65(style="border-top:none;border-left:none;width:155pt;vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= val.period.start[0]
            td.xl-65(style="border-top:none;border-left:none;width:155pt;vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= val.period.start[1]
            td.xl-65(style="border-top:none;border-left:none;width:55pt;vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= val.period.end[0]
            td.xl-65(style="border-top:none;border-left:none;width:55pt; vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= val.period.end[1]
            td.xl-65(style="border-top:none;border-left:none;width:58pt;vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= income
            td.xl-65(colspan=2 style="border-top:none;border-left:none;width:58pt;vertical-align: middle;")
                font.font-8(style="display: block; text-align: center")= expense
            td.xl-75(style="width:22pt;vertical-align: middle;")
                font.font-8= (index+1)
    else
        tr(height=25 style={height:'14.95pt'})
            td There are no values

mixin setSections(sectionName="",sectionDescription="",dataSection=[],rowNumber=1, c=0)
    -const rows = dataSection.length+1
    tr(height=20 style="height: 10pt; border-left: 2pt solid white; border-right: 2pt solid white;")
    tr(height=25 style="height:14.95pt;border-top: 2pt solid black;")
        td.xl-78(width=23 rowspan=rows style="width: 20pt;vertical-align: middle;")
            font.font-8.vertical-text= sectionName
        td.xl-75(width=50 rowspan=rows style="border-right:.5pt solid black; border-left:none; border-bottom:none; width:38pt;vertical-align: middle;")
            font.font-8.vertical-text= sectionDescription
        td.xl-65(width=77 colspan=7 style="border-top:none;border-left:none;width:58pt;vertical-align: bottom;") 
            font.font-8 Concepto
        +celEnumerate(111, 83, "Importe", c)
        td.xl-75(width=23 style="width:22pt;vertical-align: bottom;")
            font.font-8 Fila
    +setDataToSections(dataSection, rowNumber)
    tr(style="border-bottom: 2pt solid black;")

mixin setDataToSections(data=[], row=0)
    each val, index in data
        tr(height=25 style={height:'14.95pt'})
                td.xl-65(width=77 colspan=7 style="border-top:none;border-left:none;width:58pt;vertical-align: bottom;") 
                    font.font-12= val.concepto
                td.xl-65(width=111 style=`border-right: .5pt solid black; width: 83pt;text-align: end;vertical-align: bottom;`)
                    font.font-9= val.import
                td.xl-75(width=23 style="width:22pt;vertical-align: middle;")
                    font.font-8= (index+row)

block column
    -colsArray=[{width:23, style:{width: '17pt'}}, {width:50, style:{width: '38pt'}}, {width:328, style:{width: '245pt'}}, {width:27, style:{width: '20pt'}}, {width:30, style:{width: '23pt'}}, {width:32, style:{width: '24pt'}}, {width:35, style:{width: '26pt'}}, {width:132, style:{width: '99pt'}}, {width:37, style:{width: '28pt'}}, {width:111, style:{width: '83pt'}}, {width:32, style:{width: '24pt'}}]
    +colGroup(colsArray)

block tHeadContent
    tr(height=58 style={height:'44.1pt'})
        td.xl-78(width=23 rowspan=12 style="width: 20pt;vertical-align: middle;")
            font.font-8.vertical-text Sección A
        td.xl-75(width=50 rowspan=12 style="border-right:.5pt solid black; border-left:none; border-bottom:none; width:38pt;vertical-align: middle;")
            font.font-8.vertical-text Ingresos Obtenidos y Gastos  Deducibles por actividad
        +celEnumerate(397, 296, "Actividades Concepto", 10)
        +celEnumerate(397, 296, "Período que se liquida", 11, 4)
        +celEnumerate(397, 296, "Ingresos   Obtenidos", 12)
        +celEnumerate(397, 296, "Gastos Deducibles   de la actividad", 13, 2)
        td.xl-75(width=23 rowspan=2 style="width:22pt")
            font.font-8(style="display: flex; justify-content: center; align-items: center; height: 60.5pt;") Fila
    tr(height=25 style={height:'14.95pt'})
        td.xl-65(width=397 style="border-right: .5pt solid black;width:296pt;vertical-align: bottom;")
            font.font-8(style="display: block; text-align: center;") Código - Nombre
        td.xl-65(width=206 colspan=2 style="border-top:none;border-left:none;width:155pt;vertical-align: bottom;")
            font.font-8(style="display: block; text-align: center;") Desde
        td.xl-65(width=73 colspan=2 style="border-top:none;border-left:none;width:55pt;vertical-align: bottom;")
            font.font-8(style="display: block; text-align: center;") Hasta
        td.xl-65(width=77 style="border-top:none;border-left:none;width:58pt;vertical-align: bottom;")
            font.font-8(style="display: block; text-align: center;") Importe
        td.xl-65(width=77 colspan=2 style="border-top:none;border-left:none;width:58pt;vertical-align: bottom;")
            font.font-8(style="display: block; text-align: center;") Importe


block tBodyContent
    -const dataSectionA = [{activity:"808- Transporte pasajeros taxi (MG)", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0}, {activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},{activity:"", period:{start: [1,1], end: [31,12]}, income: 0, expense: 0},]
    -const dataSectionB = [{concepto:"Ingresos obtenidos para  liquidación del Impuesto (viene de SECCIÓN A casilla 12 fila 10)",import: "0"},{concepto:"(-) Mínimo Exento Autorizado",import: "1.183.105"},{concepto:"(-) Gastos deducibles por el ejercicio de la actividad (viene de SECCIÓN A casilla 13 fila 10)",import: "0"},{concepto:"(-) Total de tributos pagados asociados a la actividad (viene de SECCIÓN F casilla 18 fila 44)",import: "0"},{concepto:"(-) Contribución para restauración y preservación de las zonas donde desarrollan su actividad",import: "0"},{concepto:"(-) Pagos por arrendamiento de bienes a entidades estatales autorizadas",import: "0"},{concepto:"(-)Importes exonerados por concepto de arrendamiento por asumir gastos de reparaciones",import: "0"},{concepto:"(-)Otros descuentos autorizados",import: "0"},{concepto:"(-) Bonificacion según aprobacion del MFP",import: "0"},{concepto:"Base Imponible (filas 11-12-13-14-15-16-17-18-19) pasa a SECCIÓN G, filas de casilla 20. Se distribuye por tramos",import: "0"}]
    -const dataSectionC = [{concepto:"Impuesto a pagar según escala progresiva (viene de SECCIÓN G casilla 21 fila 50)",import: "0"},{concepto:"(-) Total de cuotas mensuales pagadas por el Titular a cuenta del impuesto en el período fiscal",import: "0"},{concepto:"(-) Otros pagos anticipados o Créditos del ejercicio fiscal anterior",import: "0"},{concepto:"(-) Total de retenciones",import: "0"},{concepto:"(-) Bonificaciones autorizadas",import: "0"},{concepto:"Impuesto a pagar (filas 21-22-23-24-25, si el resultado es mayor que cero)",import: "0"},{concepto:"Total a Devolver (filas 21-22-23-24-25, si el resultado es negativo) (Si es TCP se iguala a cero)",import: "0"}]
    -const dataSectionD = [{concepto:"Impuesto a pagar según Declaración Rectificada (viene de SECCIÓN C fila 26, rebajando el importe que le fue bonificado en la DJ - 08 que esta rectificando)",import: "0"},{concepto:"(-) Pago del impuesto realizado en la Declaración anterior",import: "0"},{concepto:"Diferencia Impuesto a Pagar en Declaración Rectificada (si fila 28 es mayor que fila 29)",import: "0"},{concepto:"Diferencia a devolver por declaración rectificada (si fila 28 es menor que fila 29)",import: "0"}]
    -const dataSectionE = [{concepto:"IMPUESTO A PAGAR (viene de filas 26 o fila 30 según corresponda: son excluyentes)",import: "0"},{concepto:"(-) Bonificaciones (se aplican los % autorizados al importe de la fila 32)",import: "0"},{concepto:"(-) Impuesto pagado en Declaraciones Juradas presentadas en el año fiscal",import: "0"},{concepto:"(+) Recargo por mora (se aplica al importe de fila 32, si se paga fuera de fecha, si se paga en fecha = 0 )",import: "0"},{concepto:"TOTAL A PAGAR ( fila 32 – fila 33 - fila 34 + fila 35 según corresponda)",import: "0"}]
    -const total = {incomes: 0, expenses: 0}

    +setDataToSectionA(dataSectionA)
    tr(height=25 style="height:14.95pt;border-bottom: 2pt solid black;")
        td.xl-78(width=521 colspan=5 style="width: 389pt; text-align: end;")
            font.font-9 Total
        td.xl-65(width=77 style="border-top:none;border-left:none;width:58pt;text-align: end;vertical-align: bottom;")
            font.font-8= total.incomes
        td.xl-65(width=77 colspan=2 style="border-top:none;border-left:none;width:58pt;text-align: end;vertical-align: bottom;")
            font.font-8= total.expenses
        td.xl-75(width=23 style="width:22pt; vertical-align: middle;")
            font.font-8 10
    +setSections("Sección B","Determinación de la Base Imponible",dataSectionB,11,14)
    +setSections("Sección C","Determinación del impuesto a pagar",dataSectionC,21,15)
    +setSections("Sección D","Declaración Jurada Rectificada",dataSectionD,28,16)
    +setSections("Sección E","Total a Pagar",dataSectionE,32,17)